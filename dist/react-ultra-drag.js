!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports["react-ultra-drag"]=t(require("react")):e["react-ultra-drag"]=t(e.React)}(this,function(e){return function(e){function t(r){if(o[r])return o[r].exports;var n=o[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){e.exports=o(1)},function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},u=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),p=o(6),c=r(p),l=o(4),f=r(l),d=o(2),m=r(d),h=function(e){function t(e){n(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.getBounder=function(){return o.frameRect},o.updateBound=function(e,t){o.isUpdateBound=t,e&&("number"==typeof e.top&&(o.frameRect.top=e.top),"number"==typeof e.left&&(o.frameRect.left=e.left),"number"==typeof e.width&&(o.frameRect.width=e.width),"number"==typeof e.height&&(o.frameRect.height=e.height)),t&&o.forceUpdate()},o.componentDidMount=function(){var e=o.props.attachedTo;o.props.enableDrag&&(e.addEventListener("mousemove",o.mouseMoveListener),e.addEventListener("mouseup",o.mouseUpListener))},o.componentWillReceiveProps=function(e){o.allowDrag(e)},o.componentWillUnmount=function(){o.removeEvent()},o.allowDrag=function(e){var t=e.attachedTo;e.enableDrag?(t.addEventListener("mousemove",o.mouseMoveListener),t.addEventListener("mouseup",o.mouseUpListener)):(t.removeEventListener("mousemove",o.mouseMoveListener),t.removeEventListener("mouseup",o.mouseUpListener))},o.removeEvent=function(){o.props.attachedTo.removeEventListener("mousemove",o.mouseMoveListener),o.props.attachedTo.removeEventListener("mouseup",o.mouseUpListener)},o.getRightBottom=function(){return c.default.createElement("div",{style:{position:"absolute",userSelect:"none",width:10,height:10,right:-10,bottom:-10,cursor:o.props.clicked?"se-resize":"default"}})},o.getRight=function(){return c.default.createElement("div",{style:{position:"absolute",userSelect:"none",width:20,top:0,right:-10,bottom:10,cursor:o.props.clicked?"ew-resize":"default"}})},o.getLeft=function(){return c.default.createElement("div",{style:{position:"absolute",userSelect:"none",width:20,top:0,left:-10,bottom:10,cursor:o.props.clicked?"ew-resize":"default"}})},o.getBottom=function(){return c.default.createElement("div",{style:{position:"absolute",userSelect:"none",height:20,left:0,bottom:-10,right:10,cursor:o.props.clicked?"ns-resize":"default"}})},o.getTop=function(){return c.default.createElement("div",{style:{position:"absolute",userSelect:"none",height:20,right:10,top:-10,left:10,cursor:o.props.clicked?"ns-resize":"default"}})},o.setFramerect=function(e,t){if(o.isUpdateBound)return void(o.isUpdateBound=!1);if(o.downing&&o.props.clicked){var r=o.hitEdges,n=o.downing.boundingBox;if(!o.props.groupSelected&&(r.top||r.bottom||r.left||r.right)){if(r.right&&(e.width=Math.max((o.cursorX-n.left)/o.props.scale,o.props.minWidth)),r.bottom&&(e.height=Math.max((o.cursorY-n.top)/o.props.scale,o.props.minHeight)),r.left){var i=n.right-o.cursorX;i>o.props.minWidth&&(e.width=i/o.props.scale,e.left=o.downing.frameLeft+(o.cursorX-o.downing.x)/o.props.scale)}if(r.top){var s=n.bottom-o.cursorY;s>o.props.minHeight&&(e.height=s/o.props.scale,e.top=o.downing.frameTop+(o.cursorY-o.downing.y)/o.props.scale)}}else"move"===t&&(e.top=o.downing.frameTop+(o.cursorY-o.downing.y)/o.props.scale,e.left=o.downing.frameLeft+(o.cursorX-o.downing.x)/o.props.scale)}},o.getFrameRect=function(){return o.frame.getBoundingClientRect()},o.getDOMFrame=function(){return o.frame},o.getTitleRect=function(){return o.title.getBoundingClientRect()},o.updateDowning=function(e){var t=o.getFrameRect();o.downing={x:e.clientX,y:e.clientY,boundingBox:t,frameTop:o.frame.offsetTop,frameLeft:o.frame.offsetLeft},o._cursorStatus(e)},o._cursorStatus=function(e){var t=o.getFrameRect();if(o.cursorX=e.clientX,o.cursorY=e.clientY,!o.downing){var r=o.props.dragSize,n=o.cursorY<=t.top+r,i=o.cursorY>=t.bottom-r,s=o.cursorX<=t.left+r,a=o.cursorX>=t.right-r,u="default";return o.props.enableDrag&&(n||i||s||a?a&&i?u="se-resize":a||s?u="ew-resize":(i||n)&&(u="ns-resize"):u="move"),o.props.groupSelected&&(u="move"),o.hitEdges={top:n,bottom:i,left:s,right:a},u!==o.state.cursor&&o.setState({cursor:u}),u}},o._onDown=function(e){if(e.stopPropagation(),e.preventDefault(),e.button)o.props.hasOwnProperty("onRight")&&o.props.onRight&&o.props.onRight({x:e.clientX,y:e.clientY},e);else{o.props.enableDrag&&o.props.groupSelected&&o.props.onMouseDown&&o.props.hasOwnProperty("onMouseDown")&&o.props.onMouseDown({clientX:e.clientX,clientY:e.clientY},o.props.innerid),o._cursorStatus(e);var t=o.getFrameRect();o.downing={x:e.clientX,y:e.clientY,boundingBox:t,frameTop:o.frame.offsetTop,frameLeft:o.frame.offsetLeft}}},o._onCompUP=function(e){o.preId=o.id},o._onUp=function(e){e.stopPropagation(),e.preventDefault(),e.button||(o.downing=null,o.props.enableDrag&&o.id==o.preId&&o.props.hasOwnProperty("onChange")&&o.props.onChange&&o.props.onChange(o.frameRect),o.preId="")},o._onMove=function(e){if(e.stopPropagation(),e.preventDefault(),!e.button){if(o.props.enableDrag&&o.props.clicked){var t=o._cursorStatus(e);if("default"!==t&&o.downing&&o.props.hasOwnProperty("onMove")&&o.props.onMove){var r=a({},o.frameRect);o.setFramerect(r,t),o.props.onMove(r,o.mstate)}}else"default"!==o.state.cursor&&o.setState({cursor:"default"});null!==o.downing&&o.props.enableDrag&&!o.isUpdateBound&&o.props.clicked&&o.forceUpdate()}},o.cursorX=0,o.cursorY=0,o.downing=null,o.id=(0,m.default)(),o.preId="",o.isUpdateBound=!1,o.realNode=!1,o.mstate="",o.frameRect={width:0,height:0,left:0,top:0},o.props.bound&&o.updateBound(o.props.bound,!1),o.state={cursor:"",isUpdateBound:!1},o.mouseMoveListener=o._onMove.bind(o),o.mouseUpListener=o._onUp.bind(o),o}return s(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.style,r=t.contentStyle,n=t.cursorRemap;t.children;this.setFramerect(this.frameRect,this.state.cursor);var i=this.state.cursor;if(this.mstate=i,n){var s=n.call(this,i);s&&"string"==typeof s&&(i=s)}({cursor:i,downing:this.downing,frameRect:this.frameRect});return c.default.createElement("div",{ref:function(t){e.frame=t},onMouseDownCapture:this._onDown,onMouseUp:this._onCompUP.bind(this,this.id),style:a({position:"absolute",margin:0,padding:0,cursor:i},o,this.frameRect,this.downing?{}:{})},c.default.createElement("div",{className:"contentClassName",style:a({position:"absolute",width:"100%",top:0,bottom:0},r)},this.props.children),this.props.resizeIcon&&this.props.clicked?this.props.resizeIcon:null,this.props.enableDrag?this.getRightBottom():null,this.props.enableDrag?this.getBottom():null,this.props.enableDrag?this.getLeft():null,this.props.enableDrag?this.getTop():null,this.props.enableDrag?this.getRight():null)}}]),t}(c.default.Component);t.default=h,h.propTypes={style:f.default.object,contentClassName:f.default.object,contentStyle:f.default.object,minWidth:f.default.number,minHeight:f.default.number,dragSize:f.default.number,onChange:f.default.func,onMove:f.default.func,cursorRemap:f.default.func,bound:f.default.object.isRequired,attachedTo:f.default.object,scale:f.default.number,enableDrag:f.default.bool,resizeIcon:f.default.object},h.defaultProps={minWidth:20,minHeight:20,dragSize:10,attachedTo:window,scale:.5,enableDrag:!0,onChange:null,onMove:null,onRight:null,bound:{},resizeIcon:null,clicked:!1,groupSelected:!1,onMouseDown:null}},function(e,t){"use strict";function o(){var e,t,o="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(o+="-"),o+=(12===e?4:16===e?3&t|8:t).toString(16);return o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,o){"use strict";function r(){}var n=o(5);e.exports=function(){function e(e,t,o,r,i,s){if(s!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return o.checkPropTypes=r,o.PropTypes=o,o}},function(e,t,o){e.exports=o(3)()},function(e,t){"use strict";var o="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=o},function(t,o){t.exports=e}])});